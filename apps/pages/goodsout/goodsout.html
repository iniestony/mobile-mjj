<sjd-top-nav-bar nav-title="出库申请" prev-state="dashboard" prev-text="返回"></sjd-top-nav-bar>
<div class="sjd-page-goodsout">
  <div class="sjd-goodsout-content">
    <div class="row sjd-goodsout-content-1">
      <div class="col-xs-6 sjd-goodsout-content-1-title">可出价值</div>
      <div class="col-xs-6 sjd-goodsout-content-1-title">出库价值</div>
    </div>
    <div class="row sjd-goodsout-content-1">
      <div class="col-xs-6">{{estimateTotal}}</div>
      <div class="col-xs-6">{{estimate}}</div>
    </div>
    <div class="row sjd-goodsout-content-2">出库信息:</div>
    <div class="row sjd-goodsout-content-3">
      <div class="col-xs-3 row-title">出库仓库:</div>
      <div class="col-xs-8 row-input">
        <input type="text" class="form-control" ng-model="stockname"/>
      </div>
    </div>
    <div class="row sjd-goodsout-content-3">
      <div class="col-xs-3 row-title">联系人:</div>
      <div class="col-xs-8 row-input">
        <input type="text" class="form-control" ng-model="contact"/>
      </div>
    </div>
    <div class="row sjd-goodsout-content-3">
      <div class="col-xs-3 row-title">联系方式:</div>
      <div class="col-xs-8 row-input">
        <input type="text" class="form-control" ng-model="phone"/>
      </div>
    </div>
    <div class="row sjd-goodsout-content-3">
      <div class="col-xs-3 row-title">收货方:</div>
      <div class="col-xs-8 row-input">
        <input type="text" class="form-control" ng-model="receivingcompany"/>
      </div>
    </div>
    <div class="row sjd-goodsout-content-3">
      <div class="col-xs-3 row-title">收货地址:</div>
      <div class="col-xs-8 row-input">
        <input type="text" class="form-control" ng-model="receivingaddress"/>
      </div>
    </div>
    <div class="row sjd-goodsout-content-3">
      <div class="col-xs-3 row-title">备注信息:</div>
      <div class="col-xs-8 row-input">
        <input type="text" class="form-control" ng-model="memo"/>
      </div>
    </div>
    <div class="row sjd-goodsout-content-5">
      <span class="title-5">出库明细:</span>
      <span class="sign-5 glyphicon glyphicon-plus" ng-click="addGoods()"></span>
    </div>
    <div class="row sjd-goodsout-content-4">
      <table class="table table-responsive table-striped table-bordered table-condensed">
        <thead>
          <tr>
            <th>名称</th>
            <th>数量</th>
            <th>抵押中</th>
            <th>核价</th>
            <th>总价值</th>
            <th>库存数</th>
            <th ng-if="products.length > 0"></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="product in products">
            <td>{{product.name}}</td>
            <td><input type="number" ng-model="product.count" ng-change="getEstimate()"/></td>
            <td>{{product.mortgaged}}</td>
            <td>{{product.dealprice}}</td>
            <td>{{product.count * product.dealprice}}</td>
            <td>{{product.totalquantity}}</td>
            <td><span ng-click="deleteProduct($index)">删除</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="sjd-goodsout-submit">
    <button class="btn btn-info" ng-disabled="products.length === 0" ng-click="submit()">提交</button>
  </div>
</div>