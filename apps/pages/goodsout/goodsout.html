<sjd-top-nav-bar nav-title="出库申请" prev-state="dashboard" prev-text="返回"></sjd-top-nav-bar>
<div class="sjd-page-goodsout">
    <div class="sjd-goodsout-content">
        <div class="row sjd-goodsout-content-1">
            <div class="col col-50 sjd-goodsout-content-1-title">可出价值</div>
            <div class="col col-50 sjd-goodsout-content-1-title">出库价值</div>
        </div>
        <div class="row sjd-goodsout-content-1">
            <div class="col col-50 ">{{estimateTotal|currency:""}}</div>
            <div class="col col-50 ">{{estimate|currency:""}}</div>
        </div>
        <div class="row sjd-goodsout-content-2">出库信息:</div>
        <div class="item item-input item-underline">
            <div class="input-label">
                出库仓库:
            </div>
            <input type="text" ng-model="stockname" />
        </div>
        <div class="item item-input item-underline">
            <div class="input-label">
                联系人:
            </div>
            <input type="text" ng-model="contact" />
        </div>
        <div class="item item-input item-underline">
            <div class="input-label">
                联系方式:
            </div>
            <input type="text" ng-model="phone" />
        </div>
        <div class="item item-input item-underline">
            <div class="input-label">
                收货方:
            </div>
            <input type="text" ng-model="receivingcompany" />
        </div>
        <div class="item item-input item-underline">
            <div class="input-label">
                收货地址:
            </div>
            <input type="text" ng-model="receivingaddress" />
        </div>
        <div class="item item-input item-underline">
            <div class="input-label">
                备注信息:
            </div>
            <input type="text" ng-model="memo" />
        </div>
        <div class="row sjd-goodsout-content-5">
            <span class="title-5">出库明细:</span>
            <span class="ion-plus-circled arranged" ng-click="addGoods()"></span>
        </div>
        <div class="row sjd-goodsout-content-4">
            <table class="table table-responsive table-striped table-bordered table-condensed">
                <thead>
                    <tr>
                        <th>名称</th>
                        <th>数量</th>
                        <th>抵押中</th>
                        <th>核价</th>
                        <th>总价值</th>
                        <th>库存数</th>
                        <th ng-if="products.length > 0"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="product in products">
                        <td>{{product.name}}</td>
                        <td>
                            <input type="number" ng-model="product.count" ng-change="getEstimate()" />
                        </td>
                        <td>{{product.mortgaged}}</td>
                        <td>{{product.dealprice}}</td>
                        <td>{{product.count * product.dealprice}}</td>
                        <td>{{product.totalquantity}}</td>
                        <td><span ng-click="deleteProduct($index)">删除</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="sjd-goodsout-submit">
        <button class="btn btn-info" ng-disabled="products.length === 0" ng-click="submit()">提交</button>
    </div>
</div>